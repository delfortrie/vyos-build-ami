#!/usr/bin/env bash

# Bootstrap a Python virtual environment for vyos-build-ami
set -e

echo "Creating virtual environment..."
rm -rf env
python3 -m venv env

echo "Activating virtual environment..."
source env/bin/activate

echo "Upgrading pip..."
pip install --upgrade pip

echo "Installing Python dependencies..."
pip install -r requirements.txt

echo "Installing Ansible collections..."
ansible-galaxy collection install -r requirements.yml

echo ""
echo "âœ… Virtual environment setup complete!"
echo ""
echo "To activate the environment, run:"
echo "  source env/bin/activate"
echo ""
echo "To deactivate when done:"
echo "  deactivate"
